# 图论

## 什么是图

**图（graph）**是最普及的数学抽象形式。如电路图、甘特图等等。社会网络，又称社交图（social graph），是一个描述关系语句的集合，可以用一下方式表示：

> A--like-->B

上面这个简单语句就是社会网络分析的一个基本单元，称为**二元组**（dyad）。一个二元组，表示一个**关系**（relationship）。在社会网络分析中，如果图中的节点都是同一类型，就是**单模图**（1-mode graph），如果图的关系由两类节点构成，那么就是**双峰**（bimodal）或者**二模**（2-mode），三个以上称为多模图。

在有些情况下，边可以被赋值。

交流频率比“朋友”或“喜欢”更清晰地反映人们之间的关系。

### 邻接矩阵

用数学的方式表示一个社会网络的基本方法是**邻接矩阵**，1表示节点之间存在关系：

```
  A B C D E
A 0 1 0 1 1
B 1 0 0 1 0
C 0 0 0 1 1
D 1 1 1 0 0
E 1 0 1 0 0
```

邻接矩阵的主要缺点是**零单元**（即无边单元）所占据的存储空间与其他单元一样大。但真实的社会网络中，就是存在大量的零单元。

非零单元与零单元的比率称为**密度**（density），社交网络规模越大，密度越低。

## 边列表与邻接列表

解决邻接矩阵占用存储空间较大问题的方法使用**边列表**（edge-list）来表示社会网络：

```
从  到  值
A   B   2
A   D   5
A   E   5
……
```

对于大型松散网络来说，这种表征方式占用的存储空间大大减少。但不足之处是，只能进行边迭代，不能快速搜索或在图内进行遍历。在实际工作中，存储数据通常采用边列表。

邻接列表如下：

```
从  边
A   (B,2),(D,5),(E,5)
……
```

邻接列表能进行快速搜索，而且增加或移除节点、边都很容易。

## 图的遍历

### 深度优先搜索

深度优先搜索（Depth-First Search，DFS）是一种在找到目标之前系统地遍历阶段的盲目搜索。它在横向扩展之前首先向深度方向进行。

### 广度优先搜搜

广度优先搜索（Breadth-First Search，BFS）是相对深度优先搜索而言的，它首先访问最邻近的节点，然后继续访问与该节点相邻的部分。

### 路径与漫步

漫步（walk）是连接节点与边的另一种序列，漫步的长度即为边的数目。

路径（path）是指一次开放的、简单的（所有节点都不会经过两次）漫步。

循环（cycle）是指一次封闭的、简单漫步。



## 图的距离

图的距离可以用很多方法测量：

### 非加权图

非加权图，又称最短路径，计算从A到B必须经过的边的数目。

### 加权图

在加权图中，每条边都有一个相应的值，称为权重，这个用权重表示距离的值，我们通常更通俗的用“成本”来代替。距离最短的路径，不一定是节点最少的路径。

### 欧几里得距离

欧几里得距离建立在节点相似性的基础上。在欧几里得空间中每个节点都被视为一个点，这个点的坐标由邻近矩阵的行来定义。两点之间的距离与节点之间共有的邻居称比例。

## 图为什么重要

图的距离是对图进行量化分析的一种方法。图的距离可以告诉我们信息是如何传播的。能测量网络参与者的覆盖范围并对其影响进行评估：

1. 非加权图。非加权图的距离，影响稠密子网络的形成，可用来研究派系。
2. 加权图。加权图（按照个体联络的频率）的距离，可以告诉我们，信息需要多久才能扩散。
3. 欧几里得距离。欧几里得距离，可以用来计算节点的相对距离，可用来分组、识别、聚类。

## 六度理论

六度分割（6 degree of separation），指的是地球上任何两个人之间的联系，都不超过6个人。六度分割在数学上是合理的。

## 小世界网络

所谓**小世界网络**，指的是即保留了局部相邻的结构，并且允许少量连接走得更远。研究普遍认为，社群的社会网络形状大都是这类小世界网络。
